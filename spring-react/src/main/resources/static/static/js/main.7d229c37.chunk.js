(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{170:function(e,t,n){e.exports=n(341)},176:function(e,t,n){},177:function(e,t,n){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),i=n.n(l),o=(n(175),n(176),n(93)),c=(n(177),n(117)),s=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then((function(e){t.error=e})),Promise.reject(t)},u=function(e){return r.a.createElement("div",{style:{width:"1400px",margin:"0 auto",textAlign:"center"}},e.children)},m=n(343),d=n(14),f=function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement(u,null,void 0!==e.numberOfStudents?r.a.createElement(m.a,{style:{backgroundColor:"#f56a00",marginRight:"5px"},size:"large"},e.numberOfStudents):null,r.a.createElement(d.a,{type:"primary",onClick:e.openModal},"Add new student +")))},g=n(169),h=n(165),E=n(346),p=n(349),N={marginBottom:"10px"},y=Object(g.a)({backgroundColor:"#f50",color:"white"},N),b=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Anywhere in your app!"),r.a.createElement(h.a,{initialValues:{firsName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.firsName||(t.firsName="First Name Required"),e.lastName||(t.lastName="Last Name Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.gender?["MALE","male","FEMALE","female"].includes(e.gender)||(t.gender="Gender must be (MALE, male, FEMALE, female)"):t.gender="Gender Required",t},onSubmit:function(t,n){var a=n.setSubmitting;setTimeout((function(){(function(e){return Object(c.a)("/api/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(s)})(t).then((function(){e.onSuccess(),a(!1)})).catch((function(t){e.onFailure(t)})).finally((function(){a(!1)}))}),400)}},(function(e){var t=e.values,n=e.errors,a=e.touched,l=e.handleChange,i=e.handleBlur,o=e.handleSubmit,c=e.isSubmitting,s=e.submitForm,u=e.isValid;return r.a.createElement("form",{onSubmit:o},r.a.createElement(E.a,{style:N,name:"firsName",onChange:l,onBlur:i,value:t.firsName,placeholder:"First Name. E.g John"}),n.firsName&&a.firsName&&r.a.createElement(p.a,{style:y},n.firsName),r.a.createElement(E.a,{style:N,name:"lastName",onChange:l,onBlur:i,value:t.lastName,placeholder:"Last Name. E.g John"}),n.lastName&&a.lastName&&r.a.createElement(p.a,{style:y},n.lastName),r.a.createElement(E.a,{style:N,name:"email",type:"email",onChange:l,onBlur:i,value:t.email,placeholder:"Email E.g example@gmail.com"}),n.email&&a.email&&r.a.createElement(p.a,{style:y},n.email),r.a.createElement(E.a,{name:"gender",style:N,onChange:l,onBlur:i,value:t.gender,placeholder:"Gender. E.g John"}),n.gender&&a.gender&&r.a.createElement(p.a,{style:y},n.gender),r.a.createElement(d.a,{onClick:function(){return s()},type:"submit",disabled:c|(a&&!u)},"Submit"))})))},v=n(345),S=n(151),O=n(344),k=n(58),w=n(347),j=function(e,t,n){w.a[e]({message:t,description:n})},A=function(e,t){return j("error",e,t)},C=n(348);var x=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)(!1),d=Object(o.a)(i,2),g=d[0],h=d[1],E=Object(a.useState)(!1),p=Object(o.a)(E,2),N=p[0],y=p[1];Object(a.useEffect)((function(){w()}),[]);var w=function(){h(!0),Object(c.a)("/api/students").then(s).then((function(e){return e.json()})).then((function(e){console.log(e),l(e),h(!1)})).catch((function(e){console.log(e);var t=e.error.message,n=e.error.error;A(t,n),h(!1)}))},j=function(){return y(!0)},x=function(){return y(!1)},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{title:"Add new student",visible:N,onOk:x,onCancel:x,width:1e3},r.a.createElement(b,{onSuccess:function(){x(),w()},onFailure:function(e){var t=e.error.message,n=e.error.httpStatus;console.log(JSON.stringify(e)),A(t,n)}})),r.a.createElement(f,{numberOfStudents:n.length,openModal:j}))};if(g)return r.a.createElement(u,null,r.a.createElement(S.a,{indicator:r.a.createElement(C.a,{style:{fontSize:24},spin:!0})}));if(n&&n.length){var F=[{title:"",key:"avatar",render:function(e,t){return r.a.createElement(m.a,{size:"large"},"".concat(t.firsName.charAt(0).toUpperCase()," ").concat(t.lastName.charAt(0).toUpperCase()))}},{title:"Student Id",dataIndex:"studentId",key:"studentId"},{title:"FirsName",dataIndex:"firsName",key:"firsName"},{title:"LastName",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"}];return r.a.createElement(u,null,r.a.createElement(O.a,{dataSource:n,columns:F,pagination:!1,rowKey:"studentId"}),I())}return r.a.createElement(u,null,r.a.createElement(k.a,{description:r.a.createElement("h1",null,"No Stidents found")}),I())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[170,1,2]]]);
//# sourceMappingURL=main.7d229c37.chunk.js.map